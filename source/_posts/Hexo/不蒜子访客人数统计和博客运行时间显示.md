---
title: 不蒜子访客人数统计和博客运行时间显示
date: 2019-05-15 19:13:11
categories: Hexo
tags: NexT
type: "tags"
---

# 一、Hexo页脚增加网站运行时间统计  



## 解决方案

>1、找到  <font color = "red">\themes\next\layout\\_partials\ </font>下的  <font color = "red">footer.swig</font>文件
>
>2、在以下位置插入所示代码  

![](不蒜子访客人数统计和博客运行时间显示\time.png)

```javascript
<span id="sitetime"></span>
<script language=javascript>
  function siteTime(){
    window.setTimeout("siteTime()", 1000);
    var seconds = 1000;
    var minutes = seconds * 60;
    var hours = minutes * 60;
    var days = hours * 24;
    var years = days * 365;
    var today = new Date();
    var todayYear = today.getFullYear();
    var todayMonth = today.getMonth()+1;
    var todayDate = today.getDate();
    var todayHour = today.getHours();
    var todayMinute = today.getMinutes();
    var todaySecond = today.getSeconds();
    /* Date.UTC() -- 返回date对象距世界标准时间(UTC)1970年1月1日午夜之间的毫秒数(时间戳)
    year - 作为date对象的年份，为4位年份值
    month - 0-11之间的整数，做为date对象的月份
    day - 1-31之间的整数，做为date对象的天数
    hours - 0(午夜24点)-23之间的整数，做为date对象的小时数
    minutes - 0-59之间的整数，做为date对象的分钟数
    seconds - 0-59之间的整数，做为date对象的秒数
    microseconds - 0-999之间的整数，做为date对象的毫秒数 */
    var t1 = Date.UTC(2019,05,14,00,00,00); //这里调整博客建站时间，时间：2019-05-14 00:00:00
    var t2 = Date.UTC(todayYear,todayMonth,todayDate,todayHour,todayMinute,todaySecond);
    var diff = t2-t1;
    var diffYears = Math.floor(diff/years);
    var diffDays = Math.floor((diff/days)-diffYears*365);
    var diffHours = Math.floor((diff-(diffYears*365+diffDays)*days)/hours);
    var diffMinutes = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours)/minutes);
    var diffSeconds = Math.floor((diff-(diffYears*365+diffDays)*days-diffHours*hours-diffMinutes*minutes)/seconds);
    document.getElementById("sitetime").innerHTML=" 已运行"+/*diffYears+" 年 "+*/diffDays+" 天 "+diffHours+" 小时 "+diffMinutes+" 分钟 "+diffSeconds+" 秒";
  }/*因为建站时间还没有一年，就将之注释掉了。需要的可以取消*/
  siteTime();
</script>
```



> 3、结果显示

![](不蒜子访客人数统计和博客运行时间显示\time_show.png)

  

## 转载：<https://xian6ge.cn/posts/82ce1911/>

  



# 二、Hexo 页脚  不蒜子访客统计

> 在百度和谷歌上搜索过太多的Hexo 访问统计，但很多博客都不能显示人数，终于不负有心人，找到了一个可以实现 Hexo 页脚访问统计的网址，[Hexo指南](https://hexo-guide.readthedocs.io/zh_CN/latest/index.html)网址提供的文档能访问

### 1、添加代码

找到  <font color = "red">\themes\next\layout\\_partials\ </font>下的  <font color = "red">footer.swig</font>文件，在如下位置插入代码

![](不蒜子访客人数统计和博客运行时间显示\count_visitor.png)

  

```html

<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  <span id="busuanzi_container_site_pv">
      本站总访问量<span id="busuanzi_value_site_pv"></span>次
  </span>
  <span id="busuanzi_container_site_uv">
      本站访客数<span id="busuanzi_value_site_uv"></span>人次
  </span>
```

### 2、说明

> 安装脚本

```html
<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
```

> 显示站点总访问量

（1）`pv`：单个用户连续点击`n`篇文章，记录`n`次访问量

（2）`uv`：单个用户连续点击`n`篇文章，只记录`1`次访客数

`pv`方式加入

```html
<span id="busuanzi_container_site_pv">
    本站总访问量<span id="busuanzi_value_site_pv"></span>次
</span>
```

`nv`方式加入

```html
<span id="busuanzi_container_site_uv">
    本站访客数<span id="busuanzi_value_site_uv"></span>人次
</span>
```

## 转载：[https://hexo-guide.readthedocs.io/zh_CN/latest/third-service/[%E4%B8%8D%E8%92%9C%E5%AD%90\]%E8%AE%BF%E5%AE%A2%E4%BA%BA%E6%95%B0.html](https://hexo-guide.readthedocs.io/zh_CN/latest/third-service/[不蒜子]访客人数.html)